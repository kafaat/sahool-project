# =============================================================================
# SAHOOL Platform Environment Configuration
# =============================================================================
# Copy this file to .env and update with your values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Generate strong password: openssl rand -base64 32
POSTGRES_USER=sahool_admin
POSTGRES_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
POSTGRES_DB=sahool
# NOTE: Update the password in DATABASE_URL to match POSTGRES_PASSWORD
DATABASE_URL=postgresql+psycopg2://sahool_admin:CHANGE_ME_USE_STRONG_PASSWORD@postgres:5432/sahool

# -----------------------------------------------------------------------------
# Redis Cache Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Generate strong password: openssl rand -base64 32
REDIS_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
# NOTE: Update the password in REDIS_URL to match REDIS_PASSWORD
REDIS_URL=redis://:CHANGE_ME_USE_STRONG_PASSWORD@redis:6379/0

# -----------------------------------------------------------------------------
# JWT Authentication (REQUIRED)
# -----------------------------------------------------------------------------
# Generate secret: openssl rand -base64 64
JWT_SECRET_KEY=CHANGE_ME_GENERATE_64_CHAR_SECRET
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# MinIO Object Storage (REQUIRED)
# -----------------------------------------------------------------------------
# Generate strong password: openssl rand -base64 32
MINIO_ROOT_USER=sahool_minio_admin
MINIO_ROOT_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
MINIO_ENDPOINT=http://minio:9000
MINIO_BUCKET_IMAGERY=sahool-imagery

# -----------------------------------------------------------------------------
# CORS Configuration (REQUIRED for production)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Example: https://app.sahool.sa,https://admin.sahool.sa
# Leave empty for development (allows all origins without credentials)
CORS_ORIGINS=

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=200
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# API Gateway Configuration
# -----------------------------------------------------------------------------
API_GATEWAY_PORT=9000
NEXT_PUBLIC_GATEWAY_URL=http://localhost:9000

# -----------------------------------------------------------------------------
# Service URLs (Internal)
# -----------------------------------------------------------------------------
WEATHER_SERVICE_URL=http://weather-service:8000
NDVI_SERVICE_URL=http://ndvi-service:8000
FIELD_SERVICE_URL=http://field-service:8000
ALERT_SERVICE_URL=http://alert-service:8000
ANALYTICS_SERVICE_URL=http://analytics-service:8000
AUTH_SERVICE_URL=http://auth-service:8000

# -----------------------------------------------------------------------------
# Copernicus Data Space Ecosystem (CDSE) - Satellite Imagery
# -----------------------------------------------------------------------------
# Register at: https://dataspace.copernicus.eu/
CDSE_USER=your_cdse_username_here
CDSE_PASS=your_cdse_password_here

# -----------------------------------------------------------------------------
# Monitoring - Grafana
# -----------------------------------------------------------------------------
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
GRAFANA_PORT=3001

# -----------------------------------------------------------------------------
# Monitoring - Prometheus
# -----------------------------------------------------------------------------
PROMETHEUS_PORT=9090

# -----------------------------------------------------------------------------
# Tracing - Jaeger
# -----------------------------------------------------------------------------
JAEGER_PORT=16686
JAEGER_AGENT_HOST=jaeger

# -----------------------------------------------------------------------------
# Application Environment
# -----------------------------------------------------------------------------
# Options: local, development, staging, production
SAHOOL_ENV=local
DEBUG=false
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Optional: OpenAI API (for enhanced AI features)
# -----------------------------------------------------------------------------
# OPENAI_API_KEY=sk-your-key-here

# -----------------------------------------------------------------------------
# Optional: Sentry (for error tracking)
# -----------------------------------------------------------------------------
# SENTRY_DSN=https://your-sentry-dsn

# -----------------------------------------------------------------------------
# Optional: Email Configuration (for alerts)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-password
# SMTP_FROM=noreply@sahool.sa
